# ==============================================
# Worksite API - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ==============================================

# ---------------------------------------------
# Server Configuration
# ---------------------------------------------
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# ---------------------------------------------
# Database (PostgreSQL)
# ---------------------------------------------
# Local development (docker-compose)
DATABASE_URL=postgresql://myuser:mypassword@localhost:5433/worksite

# For Supabase, use pooled connection:
# DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres

# Direct connection for migrations (required for Supabase)
# DIRECT_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# ---------------------------------------------
# Authentication (REQUIRED in production)
# ---------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=dev-jwt-secret-do-not-use-in-production
COOKIE_SECRET=dev-cookie-secret-do-not-use-in-production

# ---------------------------------------------
# CORS Configuration
# ---------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:5173

# ---------------------------------------------
# Storage Configuration
# ---------------------------------------------
# Options: minio | supabase | r2
STORAGE_PROVIDER=minio

# --- MinIO (Local Development) ---
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=documents
MINIO_USE_SSL=false

# --- Supabase Storage (Beta/Stage) ---
# STORAGE_PROVIDER=supabase
# SUPABASE_URL=https://xxx.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...
# SUPABASE_STORAGE_BUCKET=documents

# --- Cloudflare R2 (Production) ---
# STORAGE_PROVIDER=r2
# CLOUDFLARE_ACCOUNT_ID=xxx
# CLOUDFLARE_R2_ACCESS_KEY=xxx
# CLOUDFLARE_R2_SECRET_KEY=xxx
# CLOUDFLARE_R2_BUCKET_NAME=worksite-prod-files
# CLOUDFLARE_R2_PUBLIC_URL=https://files.worksite.app

# ---------------------------------------------
# Optional Features
# ---------------------------------------------
# OpenAI API Key (for PDF BOQ import)
# OPENAI_API_KEY=sk-...
